<!DOCTYPE HTML>
<!--
	Full Motion by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
--><html>
	<head>
		<title>miniProject</title>
		<meta charset="utf-8">
		<meta name="miniProject" content="making a movie list">
		<link rel="stylesheet" href="assets/css/main.css">
		<script src="index.js">
		</script>
		<script>
			function scrollToTop() {
				window.scrollTo({
				top: 0,
				behavior: 'smooth' // 스무스 스크롤을 사용하려면 'smooth'를 지정
				});
			}

			window.onload = async function() {
				/*await getMovies(1);
				showMovies();
				let searchText = document.querySelector(".searchText");
				searchText.addEventListener("keyup", function(event) {
				if (event.key === "Enter") {
					searchMovies(event.target.value);
					}
				});
				let searchButton = document.querySelector(".searchButton");
				searchButton.addEventListener("click", function() {
					searchMovies(searchText.value);
				});*/
				//0.0.2v
				//화면 보여주고
				let controller = new Controller(new View("thumbnails"), new Model());
				controller.showMain();
				//각 버튼들 설정해주고
				let leftButton = document.querySelector("#leftButton");
				let rightButton = document.querySelector("#rightButton");
				let searchText = document.querySelector(".searchText");
				let searchButton = document.querySelector(".searchButton");
				let pageNum = document.querySelector("#page");

				leftButton.addEventListener("click", ()=>{
					if(controller.pageDown()){
						pageNum.textContent = parseInt(pageNum.textContent)-1;
						scrollToTop();
				}});
				rightButton.addEventListener("click", ()=>{
					if(controller.pageUp()){
						pageNum.textContent = parseInt(pageNum.textContent)+1;
						scrollToTop();
					}});
					
				searchText.addEventListener("keyup", function(event) {
				if (event.key === "Enter") {
					controller.query(event.target.value);
					pageNum.textContent = 1;
					}
				});
				searchButton.addEventListener("click", function() {
					controller.query(searchText.value);
					pageNum.textContent = 1;
				});
				
			}
		</script>
	</head>
	<body id="top">

			<!-- Banner -->
			<!--
				To use a video as your background, set data-video to the name of your video without
				its extension (eg. images/banner). Your video must be available in both .mp4 and .webm
				formats to work correctly.
			-->
				<section id="banner"><div class="inner">
						<header id="startViewPoint">
							<h1>영화 리스트</h1>
							<input class="searchText" type="text"  style="display: inline-block; width: 80%; height: 50px;" width="auto">
							<button class="searchButton"id="btn" style="display: inline-block; background-image: url('images/search.png'); width: 50px; height: 50px; border: none; background-size: cover;"></button>
						</header>
					</div>
				</section><!-- Main -->
				<div id="main">
					<div class="inner">

					<!-- Boxes -->
						<div class="thumbnails">
						</div>

					</div>
					<div style="text-align: center;"><button id="leftButton"style="background-color: black;">&#8592;</button><span id="page" style="font-size:xx-large">1</span><button id="rightButton"style="background-color: black;">&#8594;</button></div>
				</div>